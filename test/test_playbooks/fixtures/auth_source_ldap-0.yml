interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
    method: GET
    uri: https://foreman.example.com/api/status
  response:
    body:
      string: '{"result":"ok","status":200,"version":"1.21.3","api_version":2}'
    headers:
      Apipie-Checksum:
      - 5de5c8c2912d6d2704d5e1280e91f10b32de5b86
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Length:
      - '63'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 25 May 2019 15:59:01 GMT
      ETag:
      - W/"8ae0d3efe0e232e2a73486dc1f2e0fbb"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.21.3
      Server:
      - Apache
      Set-Cookie:
      - _session_id=ad51a1fb9e393f916dde21689671b314; path=/; secure; HttpOnly; SameSite=Lax
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 22d3711f-8ddb-4e55-9c91-02df996834eb
      X-Runtime:
      - '3.521313'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Cookie:
      - _session_id=ad51a1fb9e393f916dde21689671b314
    method: GET
    uri: https://foreman.example.com/api/auth_source_ldaps?thin=False&search=name%3D%22Example+LDAP%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 1,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\"\
        : 4294967296,\n  \"search\": \"name=\\\"Example LDAP\\\"\",\n  \"sort\": {\n\
        \    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"host\":\"\
        ldap.example.com\",\"port\":389,\"account\":\"uid=ansible,cn=sysaccounts,cn=etc,dc=example,dc=com\"\
        ,\"base_dn\":\"cn=ipausers,cn=groups,cn=accounts,dc=example,dc=com\",\"ldap_filter\"\
        :\"(uid=%s)\",\"attr_login\":\"uid\",\"attr_firstname\":\"givenName\",\"attr_lastname\"\
        :\"sn\",\"attr_mail\":\"mail\",\"attr_photo\":\"\",\"onthefly_register\":true,\"\
        usergroup_sync\":true,\"tls\":false,\"server_type\":\"free_ipa\",\"groups_base\"\
        :\"cn=groups,cn=accounts,dc=example,dc=com\",\"use_netgroups\":false,\"created_at\"\
        :\"2019-05-25 08:38:47 UTC\",\"updated_at\":\"2019-05-25 09:26:58 UTC\",\"\
        id\":6,\"type\":\"AuthSourceLdap\",\"name\":\"Example LDAP\",\"locations\"\
        :[{\"id\":1,\"name\":\"Default Location\",\"title\":\"Default Location\",\"\
        description\":null},{\"id\":3,\"name\":\"Uppsala\",\"title\":\"Uppsala\",\"\
        description\":null}],\"organizations\":[{\"id\":2,\"name\":\"Default Organization\"\
        ,\"title\":\"Default Organization\",\"description\":null}]}]\n}\n"
    headers:
      Apipie-Checksum:
      - 5de5c8c2912d6d2704d5e1280e91f10b32de5b86
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 25 May 2019 15:59:05 GMT
      ETag:
      - W/"aa8f773fc997e7c47c5102902089b8a3"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.21.3
      Server:
      - Apache
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 948a2509-de94-4961-8cba-205ba15dd984
      X-Runtime:
      - '0.068809'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Cookie:
      - _session_id=ad51a1fb9e393f916dde21689671b314
    method: GET
    uri: https://foreman.example.com/api/auth_source_ldaps/6
  response:
    body:
      string: '{"host":"ldap.example.com","port":389,"account":"uid=ansible,cn=sysaccounts,cn=etc,dc=example,dc=com","base_dn":"cn=ipausers,cn=groups,cn=accounts,dc=example,dc=com","ldap_filter":"(uid=%s)","attr_login":"uid","attr_firstname":"givenName","attr_lastname":"sn","attr_mail":"mail","attr_photo":"","onthefly_register":true,"usergroup_sync":true,"tls":false,"server_type":"free_ipa","groups_base":"cn=groups,cn=accounts,dc=example,dc=com","use_netgroups":false,"created_at":"2019-05-25
        08:38:47 UTC","updated_at":"2019-05-25 09:26:58 UTC","id":6,"type":"AuthSourceLdap","name":"Example
        LDAP","external_usergroups":[],"locations":[{"id":1,"name":"Default Location","title":"Default
        Location","description":null},{"id":3,"name":"Uppsala","title":"Uppsala","description":null}],"organizations":[{"id":2,"name":"Default
        Organization","title":"Default Organization","description":null}]}'
    headers:
      Apipie-Checksum:
      - 5de5c8c2912d6d2704d5e1280e91f10b32de5b86
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 25 May 2019 15:59:05 GMT
      ETag:
      - W/"cde95586e3c9a2d9cf4c7387ea6c93d1"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.21.3
      Server:
      - Apache
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 9048c983-9dec-4192-99a1-d68074f7c789
      X-Runtime:
      - '0.065146'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: '{"auth_source_ldap": {"account": "ansible@example.com", "base_dn": "uid",
      "tls": true}}'
    headers:
      Accept:
      - application/json;version=2
      Content-Length:
      - '87'
      Content-Type:
      - application/json
      Cookie:
      - _session_id=ad51a1fb9e393f916dde21689671b314
    method: PUT
    uri: https://foreman.example.com/api/auth_source_ldaps/6
  response:
    body:
      string: '{"host":"ldap.example.com","port":389,"account":"ansible@example.com","base_dn":"uid","ldap_filter":"(uid=%s)","attr_login":"uid","attr_firstname":"givenName","attr_lastname":"sn","attr_mail":"mail","attr_photo":"","onthefly_register":true,"usergroup_sync":true,"tls":true,"server_type":"free_ipa","groups_base":"cn=groups,cn=accounts,dc=example,dc=com","use_netgroups":false,"created_at":"2019-05-25
        08:38:47 UTC","updated_at":"2019-05-25 15:59:05 UTC","id":6,"type":"AuthSourceLdap","name":"Example
        LDAP","external_usergroups":[],"locations":[{"id":1,"name":"Default Location","title":"Default
        Location","description":null},{"id":3,"name":"Uppsala","title":"Uppsala","description":null}],"organizations":[{"id":2,"name":"Default
        Organization","title":"Default Organization","description":null}]}'
    headers:
      Apipie-Checksum:
      - 5de5c8c2912d6d2704d5e1280e91f10b32de5b86
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sat, 25 May 2019 15:59:05 GMT
      ETag:
      - W/"126dc0f511c57b57b64de43b97b63daa"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.21.3
      Server:
      - Apache
      Set-Cookie:
      - request_method=PUT; path=/; secure; HttpOnly; SameSite=Lax
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 6292887c-4cf0-41d5-94b3-5d22cb4944c3
      X-Runtime:
      - '0.113135'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
